(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),i=a.n(r),c=a(14),o=a(19),l=a(3),m={connected:!1,error:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTION_UPDATED":return Object(l.a)(Object(l.a)({},e),{},{connected:t.connected,error:t.error});default:return e}},d={username:"",authenticated:!1,id:null,read_rules:!1,in_queue:!1},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USERNAME":return Object(l.a)(Object(l.a)({},e),{},{username:t.username});case"SET_USER_ID":return Object(l.a)(Object(l.a)({},e),{},{id:t.id});case"ADD_TO_QUEUE":return Object(l.a)(Object(l.a)({},e),{},{in_queue:!0});case"REMOVE_FROM_QUEUE":return Object(l.a)(Object(l.a)({},e),{},{in_queue:!1});case"SET_RULES_READ":return Object(l.a)(Object(l.a)({},e),{},{read_rules:!e.read_rules});case"SET_AUTHENTICATION_STATUS":return Object(l.a)(Object(l.a)({},e),{},{authenticated:t.isAuthenticated});default:return e}},g=a(20),h={peer:null,messages:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGE":return Object(l.a)(Object(l.a)({},e),{},{messages:[].concat(Object(g.a)(e.messages),[t.message])});case"SET_PEER":return Object(l.a)(Object(l.a)({},e),{},{peer:t.peer});case"CLEAR_CHAT":return h;default:return e}},E=Object(o.c)(Object(o.b)({socket:u,user:p,chat:f}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),b=a(4),v=a(5),N=a(7),S=a(6),j=a(2),O=a(15),_=a(13),y=a.n(_),w=(a(79),a(80),a(81),function(e){return s.a.createElement("div",{className:"window-container ads"},s.a.createElement("div",{className:"ads-container"},s.a.createElement("div",{className:"ads-item"},s.a.createElement("h4",null,"\u05e4\u05e8\u05e1\u05d5\u05de\u05ea 1")),s.a.createElement("div",{className:"ads-item"},s.a.createElement("h4",null,"\u05e4\u05e8\u05e1\u05d5\u05de\u05ea 2")),s.a.createElement("div",{className:"ads-item"},s.a.createElement("h4",null,"\u05e4\u05e8\u05e1\u05d5\u05de\u05ea 3"))),s.a.createElement("div",{className:"window-action"},s.a.createElement(O.b,{to:"/chat",className:"button button__primary"},"\u05d4\u05ea\u05d7\u05dc \u05e9\u05d9\u05d7\u05d4 \u05d7\u05d3\u05e9\u05d4")))}),T=a(68),k=a.n(T),C=a(136),R=function(e){return{type:"SET_RULES_READ",isRulesRead:e}},x=a(21),L=a.n(x),U=a(40),D=a(41),A=a(42),I=a.n(A),M=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).handleClickOutside=function(e){n.selfWrap.current&&n.selfWrap.current.contains(e.target)||n.props.handleClose()},n.handleChange=function(e){n.setState({isLoading:!0,gifs:[],query:e.target.value},(function(){n.state.query.length>0?n.searchGifs():n.setState({isLoading:!1,gifs:[],message:"\u05d4\u05d6\u05df \u05d0\u05ea \u05d4\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e9\u05dc\u05da \u05d1\u05e9\u05d3\u05d4 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9"})}))},n.searchGifs=D.debounce(Object(U.a)(L.a.mark((function e(){var t,a,s;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.query,n.removeScrollEvent(),n.setState({message:""}),e.prev=3,e.next=6,I.a.get("https://api.giphy.com/v1/gifs/search",{params:{api_key:"fCluNP2WYQOBvk1Tp2kQQG21Ca9wMXHC",q:t,limit:10,offset:n.state.offset}});case 6:if(200===(a=e.sent).status){e.next=9;break}throw new Error("Status code not 200");case 9:if(0!==a.data.data.length||0!=n.state.offset){e.next=11;break}throw new Error("\u05e9\u05d5\u05dd \u05d3\u05d1\u05e8 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0");case 11:s=a.data.data.map((function(e){return{original:e.images.original.url,fixed:e.images.fixed_height.url,id:e.images.id}})),n.setState({isLoading:!1,gifs:[].concat(Object(g.a)(n.state.gifs),Object(g.a)(s))},(function(){n.registerScrollEvent()})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),n.setState({isLoading:!1,gifs:[],message:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[3,15]])}))),300),n.getRandomGifs=Object(U.a)(L.a.mark((function e(){var t,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.prev=1,e.next=4,I.a.get("https://api.giphy.com/v1/gifs/trending",{params:{api_key:"fCluNP2WYQOBvk1Tp2kQQG21Ca9wMXHC",limit:20}});case 4:if(200===(t=e.sent).status){e.next=7;break}throw new Error("Status code not 200");case 7:if(0!==t.data.data.length){e.next=9;break}throw new Error("\u05e9\u05d5\u05dd \u05d3\u05d1\u05e8 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0");case 9:a=t.data.data.map((function(e){return{original:e.images.original.url,fixed:e.images.fixed_height.url,id:e.id}})),n.setState({isLoading:!1,randomGifs:a}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),n.setState({isLoading:!1,randomGifs:[]});case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))),n.renderLastOrRandomGifs=function(){var e=JSON.parse(localStorage.getItem("recent_gifs"));return e&&e.length>0?s.a.createElement("div",{className:"messenger-content-emoji-box-content-results",ref:n.gifsScroll},e.map((function(e,t){return s.a.createElement("a",{className:"messenger-content-emoji-box-content-results-item",href:"#",onClick:function(t){return n.handleClick(t,e)},key:t},s.a.createElement("img",{src:e.original,alt:""}))}))):s.a.createElement("div",{className:"messenger-content-emoji-box-content-results",ref:n.gifsScroll},n.state.randomGifs.map((function(e,t){return s.a.createElement("a",{className:"messenger-content-emoji-box-content-results-item",href:"#",onClick:function(t){return n.handleClick(t,e)},key:t},s.a.createElement("img",{src:e.fixed,alt:""}))})))},n.registerScrollEvent=function(){n.gifsScroll.current&&n.gifsScroll.current.addEventListener("scroll",n.scrollEvent)},n.removeScrollEvent=function(){n.gifsScroll.current&&n.gifsScroll.current.removeEventListener("scroll",n.scrollEvent)},n.scrollEvent=function(e){e.target.scrollHeight-e.target.offsetHeight<=2*e.target.scrollTop&&n.setState({offset:n.state.offset+10},(function(){n.searchGifs()}))},n.changeTab=function(e){e.preventDefault(),n.setState({activeTab:e.target.dataset.tab})},n.handleClick=function(e,t){e.preventDefault();var a=JSON.parse(localStorage.getItem("recent_gifs")||"[]");a&&a.length<20&&(a.push(t),a=D.uniqBy(a,"id")),localStorage.setItem("recent_gifs",JSON.stringify(a)),n.props.onClick({type:"gif",url:t.original}),n.props.handleClose()},n.renderTabs=function(){switch(n.state.activeTab){case"gifs":return s.a.createElement("div",{className:"messenger-content-emoji-box-content"},n.state.isLoading?s.a.createElement("p",{className:"messenger-content-emoji-box-content-message"},"\u05d7\u05db\u05d4 \u05e8\u05d2\u05e2..."):n.state.gifs.length>0?s.a.createElement("div",{className:"messenger-content-emoji-box-content-results",ref:n.gifsScroll},n.state.gifs.map((function(e,t){return s.a.createElement("a",{className:"messenger-content-emoji-box-content-results-item",href:"#",onClick:function(t){return n.handleClick(t,e)},key:t},s.a.createElement("img",{src:e.fixed,alt:""}))}))):n.renderLastOrRandomGifs());default:return null}},n.state={isLoading:!1,gifs:[],randomGifs:[],message:"\u05d4\u05d6\u05df \u05d0\u05ea \u05d4\u05e9\u05d0\u05d9\u05dc\u05ea\u05d4 \u05e9\u05dc\u05da \u05d1\u05e9\u05d3\u05d4 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9",query:"",offset:0,activeTab:"gifs"},n.gifsScroll=s.a.createRef(),n.selfWrap=s.a.createRef(),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside),this.getRandomGifs()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){return s.a.createElement("div",{className:this.props.visible?"messenger-content-emoji-box messenger-content-emoji-box__visible":"messenger-content-emoji-box",ref:this.selfWrap},s.a.createElement("div",{className:"messenger-content-emoji-box-container"},"gifs"===this.state.activeTab?s.a.createElement("div",{className:"messenger-content-emoji-box-search"},s.a.createElement("input",{type:"text",placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 GIF",onChange:this.handleChange,value:this.state.query})):null,this.renderTabs(),s.a.createElement("div",{className:"messenger-content-emoji-box-tabs"},s.a.createElement("a",{className:"gifs"===this.state.activeTab?"messenger-content-emoji-box-tabs-item messenger-content-emoji-box-tabs-item__active":"messenger-content-emoji-box-tabs-item",href:"#","data-tab":"gifs",onClick:this.changeTab},"GIFs"))))}}]),a}(s.a.Component),q=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({message:e.target.value})},n.onKeyUp=function(e){e.preventDefault(),"Enter"===e.key?n.setState({isTyping:!1},(function(){n.props.sendTypingStatus(!1)})):!1===n.state.isTyping?n.setState({isTyping:!0},(function(){n.props.sendTypingStatus(!0),n.typingTimeout=setTimeout(n.typingTimeoutFunc,2e3)})):(clearTimeout(n.typingTimeout),n.typingTimeout=setTimeout(n.typingTimeoutFunc,2e3))},n.onSubmit=function(e){e.preventDefault(),n.state.message.length>0?(n.props.sendMessage({type:"message",text:n.state.message}),n.setState({message:""})):_.store.addNotification({message:"\u05d0\u05e0\u05d0 \u05d4\u05db\u05e0\u05e1 \u05d4\u05d5\u05d3\u05e2\u05d4",type:"danger",insert:"top",container:"top-center",dismiss:{duration:3e3}})},n.openEmojiMenu=function(e){n.setState({isEmojiOpened:!0})},n.closeEmojiMenu=function(){n.setState({isEmojiOpened:!1})},n.typingTimeoutFunc=function(){n.setState({isTyping:!1},(function(){n.props.sendTypingStatus(!1)}))},n.state={message:"",isEmojiOpened:!1,isTyping:!1},n.typingTimeout=null,n.emojiButtonRef=s.a.createRef(),n}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"messenger-content-input"},s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("input",{placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05db\u05d0\u05df...",value:this.state.message,onChange:this.onChange,onKeyUp:this.onKeyUp,onFocus:this.onFocus,type:"text",required:!0}),s.a.createElement("button",{className:"button button__primary messenger-content-input-button__send",type:"submit"},s.a.createElement("i",{className:"icon icon-chevron__left"})),s.a.createElement("button",{className:this.state.isEmojiOpened?"messenger-content-input-button__emoji messenger-content-input-button__emoji__active":"messenger-content-input-button__emoji",onClick:this.openEmojiMenu,ref:this.emojiButtonRef,type:"button"},s.a.createElement("i",{className:"icon icon-emoji"})),s.a.createElement(M,{visible:this.state.isEmojiOpened,onClick:this.props.sendMessage,handleClose:this.closeEmojiMenu}))))}}]),a}(s.a.Component),G=function(e){var t=e.ownerUid===e.message.uid;return s.a.createElement("div",{className:t?"messenger-content-list-item messenger-content-list-item__owned":"messenger-content-list-item"},function(){switch(e.message.message.type){case"message":return s.a.createElement("p",{className:"messenger-content-list-item-text"},e.message.message.text);case"gif":return s.a.createElement("div",{className:"messenger-content-list-item-image"},s.a.createElement("img",{src:e.message.message.url,onLoad:e.imgOnLoad,alt:""}));default:return null}}())},Q=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).sendMessage=function(e,t){var a={uid:n.props.userId,message:e};n.props.addMessage(a),n.socket.emit("message",a),n.scrollChatDown()},n.sendTypingStatus=function(e){n.socket.emit("isTyping",{isTyping:e})},n.handleLeave=function(e){n.socket.emit("leaveRoom")},n.scrollChatDown=function(){n.messageListEnd&&n.messageListEnd.current&&(n.messageListEnd.current.scrollIntoView(),setTimeout((function(){n.messageListEnd.current.scrollTo({top:n.messageListEnd.current.scrollHeight,behavior:"smooth"})}),100))},n.imgOnLoad=function(){n.scrollChatDown()},n.socket=null,n.state={toAds:!1,peerTyping:!1},n.messageListEnd=s.a.createRef(),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={name:this.props.username,id:Object(C.a)()};this.socket=k()(window.location.origin.replace(/^http/,"ws")),this.socket.on("connect",(function(){e.props.connectionUpdated(!0),e.socket.emit("join",t),e.props.setUserId(t.id),e.props.addToQueue()})),this.socket.on("chatStart",(function(t){e.props.removeFromQueue(),e.props.setPeer(t)})),this.socket.on("chatEnd",(function(){e.props.clearChat(),e.props.addToQueue(),e.setState({toAds:!0})})),this.socket.on("message",(function(t){e.props.addMessage(t),e.scrollChatDown()})),this.socket.on("typingStatus",(function(t){e.setState({peerTyping:t.isTyping})}))}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){var e=this;return this.props.authenticated&&this.props.isReadRules?this.state.toAds?s.a.createElement(j.a,{to:"/ads"}):s.a.createElement("div",{className:"chat window-container"},s.a.createElement("div",{className:"window-background"}),s.a.createElement("div",{className:"window-card"},s.a.createElement("div",{className:"messenger"},s.a.createElement("header",{className:"messenger-header"},s.a.createElement("div",{className:"messenger-header-container"},this.props.inQueue?s.a.createElement("div",{className:"messenger-header-status"},s.a.createElement("p",{className:"messenger-header-status-message"},"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d1\u05df \u05e9\u05d9\u05d7")):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"messenger-header-subject"},s.a.createElement("div",{className:"messenger-header-subject-avatar"},s.a.createElement("img",{src:"",alt:""})),s.a.createElement("div",{className:"messenger-header-subject-info"},s.a.createElement("h4",{className:"messenger-header-subject-name"},this.props.username),s.a.createElement("p",{className:"messenger-header-subject-status"},"\u05de\u05d7\u05d5\u05d1\u05e8/\u05ea"))),s.a.createElement("div",{className:"messenger-header-action"},s.a.createElement("button",{onClick:this.handleLeave},"Switch")),s.a.createElement("div",{className:"messenger-header-companion"},s.a.createElement("div",{className:"messenger-header-companion-info"},s.a.createElement("h4",{className:"messenger-header-companion-name"},this.props.peer?this.props.peer.user.name:""),s.a.createElement("p",{className:"messenger-header-companion-status"},this.state.peerTyping?"\u05de\u05e7\u05dc\u05d9\u05d3/\u05d4":"\u05de\u05d7\u05d5\u05d1\u05e8/\u05ea")),s.a.createElement("div",{className:"messenger-header-companion-avatar"},s.a.createElement("img",{src:"",alt:""})))))),s.a.createElement("div",{className:"messenger-content"},s.a.createElement("div",{className:"messenger-content-container"},s.a.createElement("div",{className:"messenger-content-status"},s.a.createElement("p",{className:"messenger-content-status-message"},this.props.inQueue?"\u05d7\u05db\u05d4 \u05e2\u05d3 \u05e9\u05e0\u05de\u05e6\u05d0 \u05d1\u05df \u05e9\u05d9\u05d7 \u05e8\u05d0\u05d5\u05d9 \u05e2\u05d1\u05d5\u05e8\u05da :)":"\u05d0\u05ea\u05d4 \u05de\u05e6\u2019\u05d5\u05d8\u05d8 \u05db\u05e8\u05d2\u05e2 \u05e2\u05dd \u201c".concat(this.props.peer?this.props.peer.user.name:"","\u201d \u05d1\u05e6\u05d0\u05d8 \u05de\u05d0\u05d5\u05d1\u05d8\u05d7"))),s.a.createElement("div",{className:"messenger-content-list",ref:this.messageListEnd},0!==this.props.messages.length&&this.props.messages.map((function(t,a){return s.a.createElement(G,{key:a,message:t,ownerUid:e.props.userId,imgOnLoad:e.imgOnLoad})})),s.a.createElement("div",null)),s.a.createElement(q,{sendMessage:this.sendMessage,sendTypingStatus:this.sendTypingStatus})))))):s.a.createElement(j.a,{to:"/"})}}]),a}(s.a.Component),F=Object(c.b)((function(e){return{authenticated:e.user.authenticated,isReadRules:e.user.read_rules,inQueue:e.user.in_queue,username:e.user.username,userId:e.user.id,connected:e.socket.connected,peer:e.chat.peer,messages:e.chat.messages}}),(function(e){return{connectionUpdated:function(t){return e(function(e){return{type:"CONNECTION_UPDATED",connected:e,error:!1}}(t))},addToQueue:function(){return e({type:"ADD_TO_QUEUE"})},removeFromQueue:function(){return e({type:"REMOVE_FROM_QUEUE"})},setUserId:function(t){return e({type:"SET_USER_ID",id:t})},setPeer:function(t){return e(function(e){return{type:"SET_PEER",peer:e}}(t))},clearChat:function(){return e({type:"CLEAR_CHAT"})},addMessage:function(t){return e(function(e){return{type:"ADD_MESSAGE",message:e}}(t))}}}))(Q),B=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",{className:this.props.hidden?"footer__hidden":null},s.a.createElement("nav",{className:"footer-nav"},s.a.createElement("a",{className:"footer-nav-item",href:"/"},"\u05ea\u05e7\u05e0\u05d5\u05df"),s.a.createElement("a",{className:"footer-nav-item",href:"/"},"\u05d3\u05d5\u05d5\u05d7"),s.a.createElement("a",{className:"footer-nav-item",href:"/"},"\u05e6\u05d5\u05e8 \u05e7\u05e9\u05e8")),s.a.createElement("p",{className:"footer-copyright"},"\u05e0\u05d1\u05e0\u05d4 \u05e2\u201d\u05d9 \xa9 Grimix"))}}]),a}(s.a.Component),H=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(b.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onChange=function(t){e.props.setUsername(t.target.value)},e.onSubmit=function(t){t.preventDefault(),e.props.username.length>3?e.props.setAuthenticationStatus(!0):_.store.addNotification({message:"\u05e0\u05d3\u05e8\u05e9\u05d9\u05dd \u05dc\u05e4\u05d7\u05d5\u05ea 3 \u05ea\u05d5\u05d5\u05d9\u05dd",type:"danger",insert:"top",container:"top-center",dismiss:{duration:3e3}})},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("username")&&this.props.setUsername(localStorage.getItem("username")),!0===localStorage.getItem("read_rules")&&this.props.setRulesRead()}},{key:"render",value:function(){return this.props.isAuthenticated&&!this.props.isReadRules?(localStorage.setItem("username",this.props.username),s.a.createElement(j.a,{to:"/terms"})):this.props.isAuthenticated&&this.props.isReadRules?(localStorage.setItem("username",this.props.username),localStorage.setItem("read_rules",!0),s.a.createElement(j.a,{to:"/chat"})):s.a.createElement("div",{className:"window-container home"},s.a.createElement("div",{className:"window-background"}),s.a.createElement("div",{className:"window-card"},s.a.createElement("form",{className:"form",onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nickname"},"\u05d1\u05d7\u05e8 \u05e9\u05dd:"),s.a.createElement("input",{id:"nickname",placeholder:"\u05d4\u05e7\u05dc\u05d3 \u05e9\u05dd...",value:this.props.username,onChange:this.onChange})),s.a.createElement("div",{className:"window-action"},s.a.createElement("button",{className:"button button__primary",onClick:this.onSubmit},"\u05d7\u05e4\u05e9 \u05e6\u05d0\u05d8")))))}}]),a}(s.a.Component),W=Object(c.b)((function(e){return{username:e.user.username,isAuthenticated:e.user.authenticated,isReadRules:e.user.read_rules}}),(function(e){return{setUsername:function(t){return e(function(e){return{type:"SET_USERNAME",username:e}}(t))},setAuthenticationStatus:function(t){return e(function(e){return{type:"SET_AUTHENTICATION_STATUS",isAuthenticated:e}}(t))},setRulesRead:function(){return e(R())}}}))(H),P=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.props.setRulesRead()},n.onSubmit=function(e){e.preventDefault(),!0===n.props.readRules?(n.setState({toChat:!0}),localStorage.setItem("read_rules",!0)):_.store.addNotification({message:"\u05d0\u05e9\u05e8 \u05e9\u05e7\u05e8\u05d0\u05ea \u05d0\u05ea \u05d4\u05db\u05dc\u05dc\u05d9\u05dd.",type:"danger",insert:"top",container:"top-center",dismiss:{duration:3e3}})},n.handleScrollButton=function(e){e.preventDefault(),n.scrollRef.current.scrollBy(0,32)},n.handleScroll=function(e){e.srcElement.scrollHeight-e.srcElement.offsetHeight===e.srcElement.scrollTop?n.setState({scrollBottom:!0}):n.setState({scrollBottom:!1})},n.state={toChat:!1,scrollBottom:!1},n.scrollRef=s.a.createRef(),n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){this.scrollRef&&this.scrollRef.current.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.props.authenticated?this.state.toChat?s.a.createElement(j.a,{to:"/chat"}):s.a.createElement("div",{className:"window-container terms"},s.a.createElement("div",{className:"window-background"}),s.a.createElement("div",{className:"window-card"},s.a.createElement("h3",{className:"window-title"},"\u05d0\u05e0\u05d0 \u05d0\u05e9\u05e8 \u05e9\u05e7\u05e8\u05d0\u05ea \u05d0\u05ea \u05d4\u05ea\u05e7\u05e0\u05d5\u05df..."),s.a.createElement("div",{className:"window-scroller"},s.a.createElement("div",{className:"window-scroller-container",ref:this.scrollRef},s.a.createElement("p",null,"1. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.a.createElement("p",null,"2. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.a.createElement("p",null,"3. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.a.createElement("p",null,"4. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.a.createElement("p",null,"5. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),s.a.createElement("p",null,"6. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")),this.state.scrollBottom?null:s.a.createElement("button",{className:"window-scroller-button",onClick:this.handleScrollButton},s.a.createElement("div",{className:"rectangle rectangle__white"}))),s.a.createElement("div",{className:"window-checkbox"},s.a.createElement("input",{id:"accept-terms",type:"checkbox",checked:this.props.isRulesRead,onChange:this.onChange}),s.a.createElement("label",{htmlFor:"accept-terms"},"\u05d0\u05e0\u05d9 \u05de\u05d0\u05e9\u05e8 \u05e9\u05e7\u05e8\u05d0\u05ea\u05d9 \u05d0\u05ea \u05d4\u05ea\u05e7\u05e0\u05d5\u05df",s.a.createElement("span",null,"*"))),s.a.createElement("div",{className:"window-action"},s.a.createElement("button",{className:"button button__primary",onClick:this.onSubmit},"\u05d4\u05de\u05e9\u05da")))):s.a.createElement(j.a,{to:"/"})}}]),a}(s.a.Component),X=Object(c.b)((function(e){return{authenticated:e.user.authenticated,readRules:e.user.read_rules}}),(function(e){return{setRulesRead:function(){return e(R())}}}))(P),J=function(e){return(0,e.children)(Object(j.g)("/chat"))},V=function(e){Object(N.a)(a,e);var t=Object(S.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement(y.a,null),s.a.createElement("main",null,s.a.createElement("div",{className:"main-background"}),s.a.createElement("div",{className:"main-container"},s.a.createElement("div",{className:"window"},s.a.createElement("div",{className:"window-wrapper"},s.a.createElement(J,null,(function(e){return s.a.createElement("div",{className:e?"brand brand__hidden":"brand"},s.a.createElement("h1",{className:"brand-title"},"Switchats"),s.a.createElement("p",{className:"brand-text"},"\u05d4\u05e6\u2019\u05d0\u05d8\u05d9\u05dd \u05e9\u05d9\u05e2\u05d1\u05d9\u05e8\u05d5 \u05dc\u05db\u05dd \u05d0\u05ea \u05d4\u05d6\u05de\u05df"))})),s.a.createElement(j.d,null,s.a.createElement(j.b,{path:"/ads"},s.a.createElement(w,null)),s.a.createElement(j.b,{path:"/chat"},s.a.createElement(F,null)),s.a.createElement(j.b,{path:"/terms"},s.a.createElement(X,null)),s.a.createElement(j.b,{path:"/"},s.a.createElement(W,null))))),s.a.createElement(J,null,(function(e){return s.a.createElement(B,{hidden:e})})))))}}]),a}(s.a.Component);i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(c.a,{store:E},s.a.createElement(V,null))),document.getElementById("root"))},69:function(e,t,a){e.exports=a(134)},80:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.a617a264.chunk.js.map